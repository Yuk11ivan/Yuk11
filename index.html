<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>时区转换计算器</title>
    <style>
        /* 基础样式（临时添加，后续可单独写CSS文件） */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f7fa;
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            padding: 30px 20px;
        }

        /* 标题区样式 */
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 15px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .time-display {
            color: #666;
            text-align: center;
            margin-bottom: 30px;
            font-size: 14px;
            padding: 8px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        /* 转换核心区样式 */
        .converter {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
            flex-wrap: wrap;
            margin: 30px 0;
        }

        .timezone-block {
            flex: 1;
            min-width: 280px;
            background: #fafafa;
            border-radius: 8px;
            padding: 20px;
            transition: transform 0.2s;
        }

        .timezone-block:hover {
            transform: translateY(-3px);
        }

        .timezone-block label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: #444;
            font-size: 14px;
        }

        select, input {
            width: 100%;
            padding: 12px 15px;
            margin-bottom: 18px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 15px;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        select:focus, input:focus {
            outline: none;
            border-color: #4285f4;
            box-shadow: 0 0 0 3px rgba(66, 133, 244, 0.1);
        }

        #result {
            background: #f0f7ff;
            border: 1px solid #e1f0fe;
            padding: 14px 15px;
            border-radius: 6px;
            min-height: 46px;
            display: flex;
            align-items: center;
            color: #2d3748;
            font-size: 15px;
        }

        #swap-btn {
            padding: 12px 20px;
            background: #4285f4;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 20px;
            transition: background 0.3s, transform 0.2s;
            margin: 0 10px;
        }

        #swap-btn:hover {
            background: #3367d6;
            transform: scale(1.05);
        }

        #swap-btn:active {
            transform: scale(0.98);
        }

        /* 底部样式 */
        .footer {
            color: #999;
            font-size: 12px;
            text-align: center;
            margin-top: 40px;
            padding-top: 15px;
            border-top: 1px solid #f0f0f0;
        }

        /* 响应式调整 */
        @media (max-width: 768px) {
            .converter {
                flex-direction: column;
            }

            #swap-btn {
                rotate: 90deg;
                margin: 10px 0;
            }

            .timezone-block {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 标题区 -->
        <h1>时区转换计算器</h1>
        <div class="time-display" id="local-time">当前系统时间：加载中...</div>

        <!-- 转换核心区 -->
        <div class="converter">
            <!-- 源时区模块 -->
            <div class="timezone-block">
                <label>源时区</label>
                <select id="source-tz"></select>
                <label>源时间（格式：YYYY-MM-DD HH:MM）</label>
                <input type="datetime-local" id="source-time" step="60">
            </div>

            <!-- 交换按钮 -->
            <button id="swap-btn">⇄ 交换时区</button>

            <!-- 目标时区模块 -->
            <div class="timezone-block">
                <label>目标时区</label>
                <select id="target-tz"></select>
                <label>转换结果</label>
                <div id="result">请选择时区并输入时间</div>
            </div>
        </div>

        <!-- 底部提示 -->
        <div class="footer">
            数据基于浏览器时区库，自动处理夏令时 | MVP 版本
        </div>
    </div>

    <!-- 后续会在这里添加JavaScript代码 -->
    <script>
        // 临时占位，后续补充功能逻辑
	// 1. 定义支持的时区列表（30个主流时区）
const timezones = [
  { name: "北京 - 中国", value: "Asia/Shanghai" },
  { name: "香港 - 中国", value: "Asia/Hong_Kong" },
  { name: "台北 - 中国台湾", value: "Asia/Taipei" },
  { name: "纽约 - 美国", value: "America/New_York" },
  { name: "洛杉矶 - 美国", value: "America/Los_Angeles" },
  { name: "芝加哥 - 美国", value: "America/Chicago" },
  { name: "伦敦 - 英国", value: "Europe/London" },
  { name: "巴黎 - 法国", value: "Europe/Paris" },
  { name: "柏林 - 德国", value: "Europe/Berlin" },
  { name: "东京 - 日本", value: "Asia/Tokyo" },
  { name: "悉尼 - 澳大利亚", value: "Australia/Sydney" },
  { name: "新加坡 - 新加坡", value: "Asia/Singapore" },
  { name: "首尔 - 韩国", value: "Asia/Seoul" },
  { name: "莫斯科 - 俄罗斯", value: "Europe/Moscow" },
  { name: "迪拜 - 阿联酋", value: "Asia/Dubai" },
  { name: "新德里 - 印度", value: "Asia/Kolkata" },
  { name: "曼谷 - 泰国", value: "Asia/Bangkok" },
  { name: "吉隆坡 - 马来西亚", value: "Asia/Kuala_Lumpur" },
  { name: "温哥华 - 加拿大", value: "America/Vancouver" },
  { name: "多伦多 - 加拿大", value: "America/Toronto" },
  { name: "里约热内卢 - 巴西", value: "America/Rio_de_Janeiro" },
  { name: "约翰内斯堡 - 南非", value: "Africa/Johannesburg" },
  { name: "伊斯坦布尔 - 土耳其", value: "Europe/Istanbul" },
  { name: "开罗 - 埃及", value: "Africa/Cairo" },
  { name: "墨西哥城 - 墨西哥", value: "America/Mexico_City" },
  { name: "奥克兰 - 新西兰", value: "Pacific/Auckland" },
  { name: "马德里 - 西班牙", value: "Europe/Madrid" },
  { name: "罗马 - 意大利", value: "Europe/Rome" },
  { name: "法兰克福 - 德国", value: "Europe/Frankfurt" },
  { name: "旧金山 - 美国", value: "America/San_Francisco" }
];

// 2. 初始化页面
function init() {
  // 填充时区选择框
  const sourceSelect = document.getElementById('source-tz');
  const targetSelect = document.getElementById('target-tz');
  
  timezones.forEach(tz => {
    const option = document.createElement('option');
    option.value = tz.value;
    option.textContent = tz.name;
    sourceSelect.appendChild(option.cloneNode(true));
    targetSelect.appendChild(option);
  });

  // 默认选择：源时区=北京，目标时区=纽约
  sourceSelect.value = "Asia/Shanghai";
  targetSelect.value = "America/New_York";

  // 设置当前时间为默认输入
  const now = new Date();
  const dateStr = now.toISOString().slice(0, 16); // 格式：YYYY-MM-DDTHH:MM
  document.getElementById('source-time').value = dateStr;

  // 显示本地系统时间
  updateLocalTime();
  setInterval(updateLocalTime, 60000); // 每分钟更新一次

  // 绑定事件
  document.getElementById('source-tz').addEventListener('change', calculateTime);
  document.getElementById('target-tz').addEventListener('change', calculateTime);
  document.getElementById('source-time').addEventListener('input', calculateTime);
  document.getElementById('swap-btn').addEventListener('click', swapTimezones);

  // 初始计算一次
  calculateTime();
}

// 3. 更新本地系统时间显示
function updateLocalTime() {
  const now = new Date();
  const options = { 
    year: 'numeric', month: '2-digit', day: '2-digit',
    hour: '2-digit', minute: '2-digit', second: '2-digit',
    hour12: false 
  };
  document.getElementById('local-time').textContent = `当前系统时间：${now.toLocaleString('zh-CN', options)}`;
}

// 4. 核心：计算时区转换结果
function calculateTime() {
  const sourceTz = document.getElementById('source-tz').value;
  const targetTz = document.getElementById('target-tz').value;
  const sourceTimeStr = document.getElementById('source-time').value;

  if (!sourceTimeStr) {
    document.getElementById('result').textContent = "请输入源时间";
    return;
  }

  // 转换输入时间为Date对象（处理时区）
  const sourceTime = new Date(sourceTimeStr);
  if (isNaN(sourceTime.getTime())) {
    document.getElementById('result').textContent = "时间格式错误";
    return;
  }

  // 格式化目标时区时间
  const targetOptions = {
    year: 'numeric', month: '2-digit', day: '2-digit',
    hour: '2-digit', minute: '2-digit',
    hour12: false,
    timeZone: targetTz
  };
  const sourceOptions = {
    timeZone: sourceTz,
    year: 'numeric', month: '2-digit', day: '2-digit'
  };

  const targetTimeStr = sourceTime.toLocaleString('zh-CN', targetOptions);
  const sourceDate = sourceTime.toLocaleDateString('zh-CN', sourceOptions);
  const targetDate = sourceTime.toLocaleDateString('zh-CN', { ...sourceOptions, timeZone: targetTz });

  // 计算时差和跨天
  const sourceOffset = new Date(sourceTime.toLocaleString('en-US', { timeZone: sourceTz })).getTimezoneOffset();
  const targetOffset = new Date(sourceTime.toLocaleString('en-US', { timeZone: targetTz })).getTimezoneOffset();
  const hourDiff = (sourceOffset - targetOffset) / 60; // 时差（小时）
  
  let dayDiffText = '';
  if (sourceDate !== targetDate) {
    dayDiffText = hourDiff > 0 ? `+${Math.floor(hourDiff / 24) + 1}天` : `-${Math.floor(Math.abs(hourDiff) / 24) + 1}天`;
  }

  // 显示结果
  const resultText = `${targetTimeStr} （${hourDiff >= 0 ? '+' : ''}${hourDiff}小时 ${dayDiffText}`.trim() + '）';
  document.getElementById('result').textContent = resultText;
}

// 5. 交换时区功能
function swapTimezones() {
  const sourceSelect = document.getElementById('source-tz');
  const targetSelect = document.getElementById('target-tz');
  
  // 交换选中值
  const temp = sourceSelect.value;
  sourceSelect.value = targetSelect.value;
  targetSelect.value = temp;
  
  // 重新计算
  calculateTime();
}

// 页面加载完成后初始化
window.onload = init;
    </script>
</body>
</html>